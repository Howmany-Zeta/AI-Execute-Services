[tool:pytest]
# Pytest configuration for isolated SummarizerService testing
# This configuration avoids PyO3 conflicts by excluding problematic modules

# Test discovery
testpaths = test file/service_test
python_files = test_summarizer_real_api.py
python_classes = Test*
python_functions = test_*

# Output options
addopts =
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --no-header
    --show-capture=no

# Markers
markers =
    real_api: Tests that use real API connections
    streaming: Tests for streaming functionality
    concurrent: Tests for concurrent operations
    error_handling: Tests for error handling
    cost_estimation: Tests for cost estimation

# Coverage settings for isolated testing
[coverage:run]
source = app.services.general.services.summarizer
omit =
    */tests/*
    */test_*
    */venv/*
    */env/*
    */__pycache__/*
    */migrations/*
    */tools/task_tools/office_tool.py

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    if self.debug:
    if settings.DEBUG
    raise AssertionError
    raise NotImplementedError
    if 0:
    if __name__ == .__main__.:
    class .*\bProtocol\):
    @(abc\.)?abstractmethod

show_missing = True
precision = 2
skip_covered = False

[coverage:html]
directory = htmlcov_summarizer_isolated
title = SummarizerService Coverage Report (Isolated)
