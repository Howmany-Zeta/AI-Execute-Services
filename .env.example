# =============================================================================
# AIECS Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# Usage:
#   export $(cat .env | xargs)
# Or use with python-dotenv:
#   from dotenv import load_dotenv
#   load_dotenv('.env')
# =============================================================================

# =============================================================================
# PostgreSQL Database Configuration
# =============================================================================
# PostgreSQL Connection Settings for Knowledge Graph Storage

# PostgreSQL Connection Mode
# Set to "local" to use individual parameters (DB_HOST, DB_PORT, etc.)
# Set to "cloud" to use connection string (POSTGRES_URL)
# Default: "local"
DB_CONNECTION_MODE=local

# PostgreSQL Connection Settings (for local mode)
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password_here
DB_NAME=aiecs_knowledge_graph

# PostgreSQL Connection String (for cloud mode)
# Required when DB_CONNECTION_MODE=cloud
# Example: postgresql://user:password@host:port/database?sslmode=require
# POSTGRES_URL=postgresql://user:password@host:port/database?sslmode=require

# Connection Pool Settings (optional, has defaults)
# DB_POOL_MIN_SIZE=5
# DB_POOL_MAX_SIZE=20

# Database Settings (optional)
# DB_COMMAND_TIMEOUT=60
# DB_QUERY_TIMEOUT=30

# Knowledge Graph Settings
# Enable pgvector extension for vector similarity search (if available)
# ENABLE_PGVECTOR=false

# Notes:
# 1. Make sure PostgreSQL is running and accessible
# 2. The database will be created automatically if it doesn't exist
# 3. Tables and indexes will be created automatically on first initialization
# 4. For production, use strong passwords and consider SSL connections
# 5. For cloud deployments, set DB_CONNECTION_MODE=cloud and use POSTGRES_URL

# =============================================================================
# Redis Configuration
# =============================================================================
# Redis Configuration for ContextEngine and Caching
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=1
REDIS_PASSWORD=

# =============================================================================
# Google Custom Search API Configuration
# =============================================================================
# Get your credentials from:
# - API Key: https://console.cloud.google.com/apis/credentials
# - CSE ID: https://programmablesearchengine.google.com/
# =============================================================================

# Google API Key (REQUIRED for integration tests)
GOOGLE_API_KEY=your_google_api_key_here

# Google Custom Search Engine ID (REQUIRED for integration tests)
GOOGLE_CSE_ID=your_custom_search_engine_id_here

# =============================================================================
# Search Tool Configuration
# =============================================================================
# These settings control rate limiting, caching, and other behaviors

# Rate Limiting
# Maximum number of requests allowed per time window
SEARCH_TOOL_MAX_REQUESTS=100

# Time window for rate limiting (in seconds, default: 86400 = 24 hours)
SEARCH_TOOL_TIME_WINDOW=86400

# Caching
# Enable/disable caching (true/false)
SEARCH_TOOL_ENABLE_CACHE=true

# Cache TTL (time-to-live in seconds, default: 3600 = 1 hour)
SEARCH_TOOL_CACHE_TTL=3600

# Circuit Breaker
# Number of failures before opening circuit breaker
SEARCH_TOOL_CIRCUIT_BREAKER_THRESHOLD=5

# Timeout before trying half-open state (in seconds)
SEARCH_TOOL_CIRCUIT_BREAKER_TIMEOUT=60

# Retry Configuration
# Number of retry attempts for failed requests
SEARCH_TOOL_RETRY_ATTEMPTS=3

# Exponential backoff factor for retries
SEARCH_TOOL_RETRY_BACKOFF=2.0

# Timeout
# API request timeout in seconds
SEARCH_TOOL_TIMEOUT=30

# User Agent
# User agent string for HTTP requests
SEARCH_TOOL_USER_AGENT=AIECS-SearchTool/2.0

# =============================================================================
# FRED API (Federal Reserve Economic Data)
# =============================================================================
# Get your free API key at: https://fred.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=your_fred_api_key_here

# FRED Provider Configuration (Optional)
FRED_TIMEOUT=30
FRED_RATE_LIMIT=10
FRED_MAX_BURST=20

# =============================================================================
# News API
# =============================================================================
# Get your free API key at: https://newsapi.org/register
NEWSAPI_API_KEY=your_newsapi_key_here

# News API Provider Configuration (Optional)
NEWSAPI_TIMEOUT=30
NEWSAPI_RATE_LIMIT=5
NEWSAPI_MAX_BURST=10

# =============================================================================
# US Census Bureau API
# =============================================================================
# Get your free API key at: https://api.census.gov/data/key_signup.html
# Note: Many Census datasets work without an API key
CENSUS_API_KEY=your_census_api_key_here

# Census Provider Configuration (Optional)
CENSUS_TIMEOUT=30
CENSUS_RATE_LIMIT=10
CENSUS_MAX_BURST=20

# =============================================================================
# World Bank API Configuration
# =============================================================================
# World Bank Provider Configuration (Optional)
WORLDBANK_TIMEOUT=30
WORLDBANK_RATE_LIMIT=10
WORLDBANK_MAX_BURST=20

# =============================================================================
# Document Parser Configuration
# =============================================================================
# User agent for HTTP requests
DOC_PARSER_USER_AGENT=DocumentParser/Test/1.0

# Maximum file size in bytes (50MB)
DOC_PARSER_MAX_FILE_SIZE=52428800

# Temporary directory for document processing
DOC_PARSER_TEMP_DIR=/tmp/aiecs_document_parser

# Default encoding for text files
DOC_PARSER_DEFAULT_ENCODING=utf-8

# Timeout for HTTP requests in seconds
DOC_PARSER_TIMEOUT=30

# Maximum number of pages to process
DOC_PARSER_MAX_PAGES=1000

# Cloud Storage Configuration
DOC_PARSER_ENABLE_CLOUD_STORAGE=false

# Google Cloud Storage bucket name (required if cloud storage is enabled)
DOC_PARSER_GCS_BUCKET_NAME=your_gcs_bucket_name

# Google Cloud Storage project ID (optional)
DOC_PARSER_GCS_PROJECT_ID=your_gcs_project_id

# Google Application Credentials path
GOOGLE_APPLICATION_CREDENTIALS=

# =============================================================================
# LLM Configuration (Large Language Models)
# =============================================================================
# Fill in at least one of the following LLM provider configurations:

# Option 1: OpenAI Configuration
OPENAI_API_KEY=

# Option 2: Vertex AI Configuration (requires Google Cloud credentials)
VERTEX_PROJECT_ID=your_vertex_project_id
VERTEX_LOCATION=us-central1

# Option 3: Google AI (Gemini) Configuration
GOOGLEAI_API_KEY=

# Option 4: xAI Configuration
XAI_API_KEY=

# LLM Models Configuration (optional)
# Path to LLM models YAML configuration file
LLM_MODELS_CONFIG=

# Vertex AI Embedding Configuration
VERTEX_EMBEDDING_MODEL=gemini-embedding-001
VERTEX_EMBEDDING_TASK_TYPE=RETRIEVAL_DOCUMENT

# =============================================================================
# Test Configuration
# =============================================================================
# Enable/disable specific test categories
RUN_NETWORK_TESTS=true
RUN_SLOW_TESTS=false
RUN_INTEGRATION_TESTS=true

# Test timeouts (seconds)
TEST_TIMEOUT=300
API_REQUEST_TIMEOUT=30

# Coverage thresholds
COVERAGE_THRESHOLD=85

# Logging level for tests
TEST_LOG_LEVEL=INFO

# Testing Configuration
# Enable debug logging during tests
# PYTEST_LOG_LEVEL=DEBUG

# Test-specific rate limits (lower for faster testing)
# SEARCH_TOOL_MAX_REQUESTS=10
# SEARCH_TOOL_TIME_WINDOW=60

# =============================================================================
# Cache Configuration
# =============================================================================
# Enable caching for API responses
ENABLE_CACHE=true

# Cache TTL (seconds)
CACHE_TTL=300

# Cache directory
CACHE_DIR=.cache/apisource

# =============================================================================
# Debug Configuration
# =============================================================================
# Enable debug output
DEBUG_MODE=false

# Save API responses to files for inspection
SAVE_RESPONSES=false
RESPONSE_DIR=test/data/api_responses

# Print detailed request/response info
VERBOSE_API_CALLS=false
