# AIECS Environment Configuration Example
# Copy this file to .env and fill in your actual values

# =====================================
# LLM Providers (at least one required)
# =====================================

# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here

# Google Vertex AI Configuration
VERTEX_PROJECT_ID=your-gcp-project-id
VERTEX_LOCATION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=/path/to/your/service-account.json

# xAI Configuration (Grok)
XAI_API_KEY=your-xai-api-key-here

# =====================================
# Infrastructure Configuration
# =====================================

# PostgreSQL Database Configuration
DB_HOST=localhost
DB_USER=postgres
DB_PASSWORD=your_database_password
DB_NAME=aiecs
DB_PORT=5432

# Alternative: Use complete database URL
# POSTGRES_URL=postgresql://postgres:password@localhost:5432/aiecs

# Redis Configuration (for Celery task queue)
CELERY_BROKER_URL=redis://localhost:6379/0

# =====================================
# Optional Configuration
# =====================================

# Google Cloud Storage (optional)
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_CLOUD_STORAGE_BUCKET=your-bucket-name

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Vector Store Configuration
VECTOR_STORE_BACKEND=vertex
VERTEX_INDEX_ID=your-vertex-index-id
VERTEX_ENDPOINT_ID=your-vertex-endpoint-id
VERTEX_DEPLOYED_INDEX_ID=your-deployed-index-id

# =====================================
# Development/Testing Configuration
# =====================================

# Set to true for development mode
RELOAD=false

# Port configuration
PORT=8000

# =====================================
# Knowledge Graph Configuration
# =====================================

# Storage backend: inmemory, sqlite, postgresql
KG_STORAGE_BACKEND=inmemory

# SQLite configuration (for file-based persistence)
KG_SQLITE_DB_PATH=./storage/knowledge_graph.db

# PostgreSQL configuration (for production)
# KG_POSTGRES_HOST=localhost
# KG_POSTGRES_PORT=5432
# KG_POSTGRES_USER=postgres
# KG_POSTGRES_PASSWORD=your_password
# KG_POSTGRES_DATABASE=knowledge_graph
# KG_MIN_POOL_SIZE=5
# KG_MAX_POOL_SIZE=20
# KG_ENABLE_PGVECTOR=false

# In-memory configuration
KG_INMEMORY_MAX_NODES=100000

# Vector search configuration
KG_VECTOR_DIMENSION=1536

# Query configuration
KG_DEFAULT_SEARCH_LIMIT=10
KG_MAX_TRAVERSAL_DEPTH=5

# Cache configuration
KG_ENABLE_QUERY_CACHE=true
KG_CACHE_TTL_SECONDS=300

# =====================================
# Knowledge Graph Feature Flags
# =====================================

# Enable/disable new features
KG_ENABLE_RUNNABLE_PATTERN=true
KG_ENABLE_KNOWLEDGE_FUSION=true
KG_ENABLE_RERANKING=true
KG_ENABLE_LOGICAL_QUERIES=true
KG_ENABLE_STRUCTURED_IMPORT=true

# Knowledge Fusion configuration
KG_FUSION_SIMILARITY_THRESHOLD=0.85
KG_FUSION_CONFLICT_RESOLUTION=most_complete

# Reranking configuration
KG_RERANKING_DEFAULT_STRATEGY=hybrid
KG_RERANKING_TOP_K=100

# Schema cache configuration
KG_ENABLE_SCHEMA_CACHE=true
KG_SCHEMA_CACHE_TTL_SECONDS=3600

# Query optimization configuration
KG_ENABLE_QUERY_OPTIMIZATION=true
KG_QUERY_OPTIMIZATION_STRATEGY=balanced
